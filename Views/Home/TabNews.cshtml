
@{
    ViewBag.Title = ViewBag.Category;
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Description = ViewBag.Category;
    ViewBag.Keyword = "Tin tức " + ViewBag.Category;
}

@using BloggerNews.Dao;
@{
    List<NewsDao> ListNews = ViewBag.ListNews;
    string FormatNumber (int number)
    {
        if (number >= 1000)
        {
            double formattedNumber = (double)number / 1000;
            return $"{formattedNumber:N1}k";
        }
        else
        {
            return number.ToString();
        }
    }
}

<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row g-4">
            <div class="col-lg-12 col-xl-12 mt-0">
                @if (ListNews.Count > 0)
                {
                    <div class="bg-light p-4 rounded">
                        <div class="news-2">
                            <h3 class="mb-4">Các mẹo hay về @ViewBag.Category hàng đầu</h3>
                        </div>
                        @foreach (var item in ListNews)
                        {
                            <div class="row g-4 align-items-center mb-5">
                                <div class="col-md-6">
                                    <div class="rounded overflow-hidden">
                                        <img src="~/assets/img/@item.Background" class="img-fluid rounded img-zoomin w-100" alt="">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex flex-column">
                                        <a href="/tin-tuc?tieude=@item.Header" class="h3" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">@item.Header</a>
                                        <style>
                                            #ViewContent {
                                                display: -webkit-box;
                                                -webkit-line-clamp: 4;
                                                -webkit-box-orient: vertical;
                                                overflow: hidden;
                                            }
                                        </style>
                                        <div id="ViewContent" class="mt-3 mb-4">
                                            <span>@Html.Raw(item.Content)</span>
                                        </div>
                                        <p class="mb-0 fs-5"><i class="fa fa-clock"> @item.DateSubmited</i> </p>
                                        <p class="mb-0 fs-5"><i class="fa fa-eye"> @FormatNumber(item.View) lượt xem</i></p>
                                        <p class="mb-0 fs-5"><i class="fa fa-share"> @FormatNumber(item.Share) lượt chia sẻ</i></p>
                                        <p class="mb-0 fs-5"><i class="fas fa-comments"> @FormatNumber(item.ListComment.Count) bình luận</i></p>
                                        <p class="mb-0 fs-5"><i class="fas fa-arrow-right"> <a href="/tin-tuc?tieude=@item.Header"> Xem chi tiết</a></i></p>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <p class="text-100 text-center text-danger fw-bold">Các mẹo hay về @ViewBag.Category hiện đang được quản trị trang cập nhật, vui lòng quay lại sau 😘</p>
                }
            </div>
        </div>
    </div>
</div>

